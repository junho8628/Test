<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h1>SiteMap</h1>
    {% for row in sitemap | sort(attribute='id')%}
        {{row.id}}, {{row.title}} , {{row.url}} , {{row.depth}} , {{row.pid}} , {{row.sortseq}} , {{row.describe}}
        <input type="button" value="삭제" onclick="fDel('{{row.id}}')">
        <input type="button" value="수정" onclick="fEdit('{{row.id}}', '{{row.title}}', '{{row.url}}', '{{row.depth}}', '{{row.pid}}','{{row.sortseq}}', '{{row.describe}}')">
        <br>
    {% endfor %}

    <h1>add title</h1>
    <form action="/insert" method="POST">
        title : <input type="text" name="title"> <br>
        url : <input type="text" name="url"> <br>
        depth : <input type="text" name="depth"> <br>
        pid: <input type="text" name="pid"> <br>
        sortseq : <input type="text" name="sortseq"> <br>
        describe : <input type="text" name="describe"> <br>
        <input type="submit" value="저장">
    </form>

    <h1>update title</h1>
    <form name="frmEdit" action="/update" method="POST">
        id : <input type="text" name="id"> <br>
        title : <input type="text" name="title"> <br>
        url : <input type="text" name="url"> <br>
        depth : <input type="text" name="depth"> <br>
        pid: <input type="text" name="pid"> <br>
        sortseq : <input type="text" name="sortseq"> <br>
        describe : <input type="text" name="describe"> <br>
        <input type="submit" value="수정">
    </form>

    <script>
        function fDel(uid) {
            if (confirm(uid+"정말로 삭제하시겠습니까?")==false) return;
            location.href="/delete/"+uid;
        }

        function fEdit(id,title,url,depth,pid,sortseq,describe){
            var frm = document.frmEdit;
                frm.id.value = id;
                frm.title.value = title;
                frm.url.value = url;
                frm.depth.value = depth;
                frm.pid.value = pid;
                frm.sortseq.value = sortseq;
                frm.describe.value = describe;
        }
    </script>
</body>
</html>